a1 = [ones(m, 1) X];
z2 = a1 * Theta1';
a2 = [ones(m, 1) sigmoid(z2)];
z3 = a2 * Theta2';
a3 = sigmoid(z3);
yt = zeros(m,num_labels);
for i=1:m
    yt(i,y(i)) = 1;
end;
sk3 = a3 - yt;
t2 = Theta2;
%t2(:,1)=[];
sk2 = sk3 * t2;
sk2(:,1)=[];
sk2 = sk2 .* sigmoidGradient(z2);
delta2 = a2' * sk3;
delta1 = a1' * sk2;
%delta2(:,1)=[];
%delta1(:,1)=[];
Theta1_grad = delta1/m;
Theta2_grad = delta2/m;